<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>贾亮的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="贾亮的博客">
<meta property="og:url" content="https://lantianjialiang.github.io/index.html">
<meta property="og:site_name" content="贾亮的博客">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="贾亮的博客">
  
    <link rel="alternate" href="/atom.xml" title="贾亮的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">贾亮的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Do Something</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://lantianjialiang.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-79539959" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/13/79539959/" class="article-date">
  <time datetime="2018-03-13T06:24:48.000Z" itemprop="datePublished">2018-03-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/English/">English</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/13/79539959/">Locking up men does nothing more than keep them off the streets.</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Locking up men does nothing more than keep them off the streets.<br>要翻译这句话，首先要理解下面两个短语的意思：<br>nothing more than<br>可以翻译成就是，不过是</p>
<blockquote>
<p>If you say that someone or something is nothing more than a particular<br>thing, you are emphasizing that they are only that thing, and nothing more<br>interesting or important.</p>
</blockquote>
<p>keep sb off the streets.<br>直译就是使某人离开街道。<br>但是它的引申义是：使某人远离坏的事情</p>
<blockquote>
<p>This depends on the context of that particular family, but there are three<br>possibilities:</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>“…so that you won’t become destitute and sleep in the street?”<br> “…so that you won’t join a gang and engage in street crime?”<br> “…so that you won’t become a prostitute and find clients on the streets?”</p>
</blockquote>
<p>所以整体这句话的意思就是：<br><strong>把一个人锁在家里，就是让他远离麻烦。</strong></p>
<p><a href="https://www.collinsdictionary.com/dictionary/english/nothing-more-than" target="_blank" rel="noopener"> https://www.collinsdictionary.com/dictionary/english/nothing-more-than
</a><br><a href="http://forum.wordreference.com/threads/the-meaning-of-
to-keep-someone-off-the-streets.2559569/" target="_blank" rel="noopener"> http://forum.wordreference.com/threads/the-meaning-of-to-keep-someone-off-<br>the-streets.2559569/ </a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2018/03/13/79539959/" data-id="cjfhvsld700thvs9fv4jefmhd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-79300075" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/09/79300075/" class="article-date">
  <time datetime="2018-02-09T08:50:38.000Z" itemprop="datePublished">2018-02-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机相关/">计算机相关</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/09/79300075/">how to export eclipse RCP for multiple platforms</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-First-you-need-write-your-RCP-in-Eclipse-and-make-sure-it-can-run"><a href="#1-First-you-need-write-your-RCP-in-Eclipse-and-make-sure-it-can-run" class="headerlink" title="1. First, you need write your RCP in Eclipse and make sure it can run"></a>1. First, you need write your RCP in Eclipse and make sure it can run</h1><p>successful</p>
<h1 id="2-Using-below-step-to-install-the-dependency-of-other-platforms"><a href="#2-Using-below-step-to-install-the-dependency-of-other-platforms" class="headerlink" title="2. Using below step to install the dependency of other platforms"></a>2. Using below step to install the dependency of other platforms</h1><p>This is works not only with the Mars release, but also previous releases, as<br>well.</p>
<pre><code>Open Window/Preferences.
Find PDE/Target Platform
Select your (active) target platform
Click Edit
Click Add
Select &quot;Software Site&quot;
Click Next
In &quot;Work With&quot; type: http://download.eclipse.org/eclipse/updates/4.7 (replace 4.7 with your current version)
Check &quot;Eclipse RCP Target Components&quot;
Check &quot;Equinox Target Components&quot;
Uncheck &quot;Include required software&quot;
Check &quot;Include all environments&quot;
Press Finish
Press Finish
Press OK
</code></pre><p>Open your product file and select the “Export” option. You will see that the<br>“Export for multiple platforms” checkbox is available.<br><img src="https://img-
blog.csdn.net/20180209164649512?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGFudGlhbmppYWxpYW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="attention"><br><img src="https://img-
blog.csdn.net/20180209165006664?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGFudGlhbmppYWxpYW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br><img src="https://img-
blog.csdn.net/20180209164739469?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGFudGlhbmppYWxpYW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<p><a href="https://wiki.eclipse.org/A_Brief_Overview_of_Building_at_Eclipse" target="_blank" rel="noopener"> https://wiki.eclipse.org/A_Brief_Overview_of_Building_at_Eclipse
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2018/02/09/79300075/" data-id="cjfhvsld800tjvs9fj3hmbcbl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78728268" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/78728268/" class="article-date">
  <time datetime="2017-12-06T02:53:43.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机相关/">计算机相关</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/78728268/">Mbit/s vs MB/s vs MiB/s</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Mbit/s的意思是每秒中传输10^6 bit的数据，也写成Mbps<br>MB/s的意思是每秒中传输10^6 byte的数据<br>MiB/s的意思是每秒中传输2^20 byte的数据，不太常用<br>所以如果一个运营商声称自己的传输带宽是1 Mbps的话，<br>按照MB/s来算的话，它只有0.125 MB/s (megabyte per second)；<br>按照MiB/s来算的话，它更是只有0.1192 MiB/s (mebibyte per second)</p>
<p>具体的换算公式是：<br>Mbit/s / 8 = MB/s</p>
<p>因为：<br>Mbit/s = 10^6 bit/s<br>MiB/s = 2^20 <em> 8 bit/s<br>所以：<br>Mbit/s = MiB/s </em> 0.1192</p>
<p>refs：<br><a href="https://en.wikipedia.org/wiki/Data_rate_units" target="_blank" rel="noopener"> https://en.wikipedia.org/wiki/Data_rate_units
</a><br>单位转换：<br><a href="https://toolstud.io/data/bandwidth.php?compare=network&amp;speed=1&amp;speed_unit=Gbps" target="_blank" rel="noopener"><br>https://toolstud.io/data/bandwidth.php?compare=network&amp;speed=1&amp;speed_unit=Gbps
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/12/06/78728268/" data-id="cjfhvsld400tdvs9fitoq0646" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78728077" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/78728077/" class="article-date">
  <time datetime="2017-12-06T02:41:26.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机相关/">计算机相关</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/78728077/">如何用命令测试Linux 硬盘的读写速度</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Use dd command to monitor the reading and writing performance of a disk<br>device:</p>
<ol>
<li>Open a shell prompt. </li>
<li>Or login to a remote server via ssh. </li>
<li><p>Use the dd command to measure server throughput (write speed)<br><code>dd if=/dev/zero of=/tmp/test1.img bs=1G count=1 oflag=dsync</code></p>
</li>
<li><p>Use the dd command to measure server latency<br><code>dd if=/dev/zero of=/tmp/test2.img bs=512 count=1000 oflag=dsync</code></p>
</li>
</ol>
<p>ref：<br><a href="https://www.cyberciti.biz/faq/howto-linux-unix-test-disk-
performance-with-dd-command/" target="_blank" rel="noopener"> https://www.cyberciti.biz/faq/howto-linux-unix-test-disk-performance-with-<br>dd-command/ </a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/12/06/78728077/" data-id="cjfhvsld300tbvs9fnj7ji4vp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78727935" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/78727935/" class="article-date">
  <time datetime="2017-12-06T02:33:27.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机相关/">计算机相关</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/78727935/">Linux下如何查看你的disk的信息</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>可以使用smartctl来查看你的disk的信息；<br>smartctl的disk路径和名字可以通过命令cat /proc/partitions 来得到。</p>
<pre><code>sudo smartctl -d ata -a /dev/sda           
smartctl 6.2 2013-07-26 r3841 [x86_64-linux-3.10.0-327.36.3.el7.x86_64] (local build)
Copyright (C) 2002-13, Bruce Allen, Christian Franke, www.smartmontools.org

=== START OF INFORMATION SECTION ===
Device Model:     MTFDDAK512MBF-xx
Serial Number:    xxx
LU WWN Device Id: xxx
Firmware Version: xxx
User Capacity:    512,110,190,592 bytes [512 GB]
Sector Size:      512 bytes logical/physical
Rotation Rate:    Solid State Device
Device is:        Not in smartctl database [for details use: -P showall]
ATA Version is:   ACS-3 (unknown minor revision code: 0x011b)
SATA Version is:  SATA &gt;3.1, 6.0 Gb/s (current: 6.0 Gb/s)
Local Time is:    Wed Dec  6 10:22:40 2017 CST
SMART support is: Available - device has SMART capability.
SMART support is: Enabled
...
</code></pre><p>从Device<br>Model中，可以知道，我的硬盘是MTFDDAK512MBF，在网址google一下，就知道它是Micron产的，具体的内容为了安全考虑，我就不贴出来了。</p>
<p>smartctl中的type的解释：<br>ATA, SCSI command sets and SAT</p>
<p>In the past there has been a clear distinction between storage devices that<br>used the ATA and SCSI command sets. This distinction was often reflected in<br>their device naming and hardware. Now various SCSI transports (e.g. SAS, FC<br>and iSCSI) can interconnect to both SCSI disks (e.g. FC and SAS) and ATA disks<br>(especially SATA). USB and IEEE 1394 storage devices use the SCSI command set<br>externally but almost always contain ATA or SATA disks (or flash). The storage<br>subsystems in some operating systems have started to remove the distinction<br>between ATA and SCSI in their device naming policies.</p>
<p>99% of operations that an OS performs on a disk involve the SCSI INQUIRY, READ<br>CAPACITY, READ and WRITE commands, or their ATA equivalents. Since the SCSI<br>commands are slightly more general than their ATA equivalents, many OSes are<br>generating SCSI commands (mainly READ and WRITE) and letting a lower level<br>translate them to their ATA equivalents as the need arises. An important note<br>here is that “lower level” may be in external equipment and hence outside the<br>control of an OS.</p>
<p>SCSI to ATA Translation (SAT) is a standard (ANSI INCITS 431-2007) that<br>specifies how this translation is done. For the other 1% of operations that an<br>OS performs on a disk, SAT provides two options. First is an optional ATA<br>PASS-THROUGH SCSI command (there are two variants). The second is a<br>translation from the closest SCSI command. Most current interest is in the<br>“pass-through” option.</p>
<p>The relevance to smartmontools (and hence smartctl) is that its interactions<br>with disks fall solidly into the “1%” category. So even if the OS can happily<br>treat (and name) a disk as “SCSI”, smartmontools needs to detect the native<br>command set and act accordingly. As more storage manufacturers (including<br>external SATA drives) comply with SAT, smartmontools is able to automatically<br>distinguish the native command set of the device. In some cases the ‘-d sat’<br>option is needed on the command line.</p>
<p>There are also virtual disks which typically have no useful information to<br>convey to smartmontools, but could conceivably in the future. An example of a<br>virtual disk is the OS’s view of a RAID 1 box. There are most likely two SATA<br>disks inside a RAID 1 box. Addressing those SATA disks from a distant OS is a<br>challenge for smartmontools. Another approach is running a tool like<br>smartmontools inside the RAID 1 box (e.g. a Network Attached Storage (NAS)<br>box) and fetching the logs via a browser.</p>
<p>ref： <a href="https://linux.die.net/man/8/smartctl" target="_blank" rel="noopener"> https://linux.die.net/man/8/smartctl
</a><br><a href="http://www.tutorialspoint.com/unix_commands/smartctl.htm" target="_blank" rel="noopener"> http://www.tutorialspoint.com/unix_commands/smartctl.htm
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/12/06/78727935/" data-id="cjfhvsld100t9vs9fjmft9dqm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78727761" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/78727761/" class="article-date">
  <time datetime="2017-12-06T02:20:31.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/计算机相关/">计算机相关</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/78727761/">硬盘的分类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>从介质来分类：</strong><br>可以分为HDD（hard disk driver），它有传统的磁盘+控制器组成；</p>
<p>SSD（solid-state driver），它有memory+控制器组成，相比前者，后者没有寻轨时间，比较快；但是也有缺点：使用寿命没有HDD时间长。</p>
<p><strong>从连接方式来分类：</strong><br>parallel ATA(PATA): 有时候ATA或者IDE（integrated drive electronics）也指的是PATA</p>
<p>Serial ATA（SATA）：就是我们通常说的SATA硬盘</p>
<p>SCSI（small computer system interface）：一般的个人电脑比较少见</p>
<p>Serial attached SCSI（SAS）</p>
<p>Fiber Channel</p>
<p>IEEE 1394 and USB</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/12/06/78727761/" data-id="cjfhvsld000t7vs9f5ra58ymm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78675613" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/30/78675613/" class="article-date">
  <time datetime="2017-11-30T06:13:00.000Z" itemprop="datePublished">2017-11-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-Linux/">C/C++/Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/30/78675613/">Linux 中的locate命令是怎样保持更新的</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一句话，就是通过cron每天来跑updatedb这个命令。<br>以下是我的系统中，anacron管理的更新locate所需要的索引的脚步：</p>
<pre><code>nodevs1=$(&lt; /proc/filesystems awk &apos;$1 == &quot;nodev&quot; &amp;&amp; $2 != &quot;rootfs&quot; { print $2 }&apos;)
/usr/bin/updatedb -f &quot;$nodevs1&quot;
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/11/30/78675613/" data-id="cjfhvslcz00t5vs9f53mtkvnj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78651175" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/28/78651175/" class="article-date">
  <time datetime="2017-11-28T00:46:28.000Z" itemprop="datePublished">2017-11-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-Linux/">C/C++/Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/28/78651175/">Google Protocol Buffer的编解码原理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>简单来说，pb就是讲结构化的数据可以序列号和反序列化，而且速度比xml快。</p>
<p>pb的序列化数据的编码格式是 Base 128 Varints，结构中的每一个field对应序列号之后的一对键值对。<br><img src="https://www.ibm.com/developerworks/cn/linux/l-cn-gpb/image007.jpg" alt="这里写图片描述"><br>具体的key是怎么编码，value是怎么编码的，请参见以下链接。</p>
<p>ref:<br><a href="https://developers.google.com/protocol-buffers/docs/encoding" target="_blank" rel="noopener"> https://developers.google.com/protocol-buffers/docs/encoding
</a><br><a href="https://www.sigmainfy.com/blog/protocol-buffers-encoding-and-
message-structure.html" target="_blank" rel="noopener"> https://www.sigmainfy.com/blog/protocol-buffers-encoding-and-message-<br>structure.html </a></p>
<p><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-gpb/" target="_blank" rel="noopener"> https://www.ibm.com/developerworks/cn/linux/l-cn-gpb/
</a><br><a href="http://originlee.com/2015/03/18/encoding-and-decoding-of-google-
protocol-buffer/" target="_blank" rel="noopener"> http://originlee.com/2015/03/18/encoding-and-decoding-of-google-protocol-<br>buffer/ </a><br><a href="http://blog.csdn.net/Shreck66/article/details/50926276" target="_blank" rel="noopener"> http://blog.csdn.net/Shreck66/article/details/50926276
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/11/28/78651175/" data-id="cjfhvslcx00t3vs9f5chkc7mj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78604961" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/22/78604961/" class="article-date">
  <time datetime="2017-11-22T08:14:35.000Z" itemprop="datePublished">2017-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-Linux/">C/C++/Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/22/78604961/">怎样获得你的系统中使用的C++标准库的版本</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>使用locate找到你系统中有的libstdc++.so文件，然后看最后两个数字，然后在下面的网址中去查找就可以了。<br>例如我的系统的locate输出为:</p>
<pre><code>$ locate libstdc++.so
/xx/libstdc++.so.6
/xx/libstdc++.so.6.0.13
/sometool/linux-x86-64/shlib/libstdc++.so.5
/usr/lib/libstdc++.so.6
/usr/lib/libstdc++.so.6.0.19
/usr/lib/coverity-analysis/bin/libstdc++.so
/usr/lib/coverity-analysis/bin/libstdc++.so.6
/usr/lib/coverity-analysis/bin/libstdc++.so.6.0.20
/usr/lib/debug/usr/lib/gcc/x86_64-redhat-linux/4.8.2/libstdc++.so.debug
/usr/lib/debug/usr/lib64/libstdc++.so.6.0.19.debug
/usr/lib/debug/usr/lib64/libstdc++.so.6.debug
/usr/lib/debug/usr/lib64/libstdc++.so.debug
/usr/lib/gcc/x86_64-redhat-linux/4.8.2/libstdc++.so
/usr/lib/gcc/x86_64-redhat-linux/4.8.2/32/libstdc++.so
/usr/lib64/libstdc++.so.6
/usr/lib64/libstdc++.so.6.0.19
</code></pre><p>从上面可以看出，我的系统上安装了以下版本的g++：</p>
<pre><code>libstdc++.so.5
4.8.2
6.0.13
6.0.19
6.0.20
</code></pre><p>第一个需要使用strings命令来查找：</p>
<pre><code>strings /xxx/libstdc++.so.5|grep LIB  
GLIBCPP_3.2
GLIBCPP_3.2.1
GLIBCPP_3.2.2
GLIBCPP_3.2.3
</code></pre><p>所以它对应的C++版本时GCC 3.3.3；<br>第二个一看就是4.8.2</p>
<p>后面三个，只要更具版本号就可以在下面的网址查询到，分别是：GCC 4.4.2， GCC 4.8.3， GCC 4.9.0</p>
<p>Note：有时候你用命令找出来的版本可以在这个网址上找不到，原因可能是你的系统是发行商自己基于某个snapshot，自己编译的。<br><a href="https://gcc.gnu.org/onlinedocs/libstdc++/manual/abi.html#abi.versioning" target="_blank" rel="noopener"> https://gcc.gnu.org/onlinedocs/libstdc++/manual/abi.html#abi.versioning
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/11/22/78604961/" data-id="cjfhvslcv00szvs9f10c4dj0u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-78604311" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/22/78604311/" class="article-date">
  <time datetime="2017-11-22T07:34:04.000Z" itemprop="datePublished">2017-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C-C-Linux/">C/C++/Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/22/78604311/">如何检查你的应用程序的ABI兼容性</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先要获得你share出去的lib的符号表：</p>
<pre><code>$ find . -name &apos;*.a&apos;|xargs nm -f posix|cut -f1 -d&apos; &apos;|LANG=C sort -u &gt; all_symbols
$ find . -name &apos;*.so&apos;|xargs nm -f posix -D|cut -f1 -d&apos; &apos;|LANG=C sort -u &gt;&gt; all_symbols
$ grep &apos;^_Z&apos; all_symbols | c++filt|sort &gt; demangled_c++_symbols
</code></pre><p>然后分一下三种情况：<br>如果你的文件是空的，恭喜你了，你的lib都是C写的，不需要重新编译，是ABI兼容的。</p>
<p>如果你的文件中没有包含 <strong>std::</strong> 这样的字符，并且你的函数中没有一个的参数或返回值用到了标准类库中的对象，你的库有90%的就会是ABI兼容的。</p>
<p>如果你的文件中有包含 <strong>std::</strong> 这样的字符，或者你的函数中有一个的参数或返回值用到了标准类库中的对象，你的库有90%的就会不是ABI兼容的。</p>
<p><a href="https://gcc.gnu.org/wiki/Cxx11AbiCompatibility" target="_blank" rel="noopener"> https://gcc.gnu.org/wiki/Cxx11AbiCompatibility
</a><br><a href="https://developers.redhat.com/blog/2015/02/05/gcc5-and-the-c11-abi/" target="_blank" rel="noopener"> https://developers.redhat.com/blog/2015/02/05/gcc5-and-the-c11-abi/
</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lantianjialiang.github.io/2017/11/22/78604311/" data-id="cjfhvslct00sxvs9fvtx4ez6m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/62/">62</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ASP-NET/">ASP.NET</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">29</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-Linux/">C/C++/Linux</a><span class="category-list-count">111</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/IC-integrated-circuit/">IC(integrated circuit)</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">88</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LTspice/">LTspice</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thinking/">Thinking</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ruby/">ruby</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/下载-BT-ed2k/">下载(BT/ed2k)</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/奇思妙想-创意/">奇思妙想/创意</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/文化/">文化</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/日语/">日语</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂项/">杂项</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/游戏/">游戏</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机相关/">计算机相关</a><span class="category-list-count">153</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/13/79539959/">Locking up men does nothing more than keep them off the streets.</a>
          </li>
        
          <li>
            <a href="/2018/02/09/79300075/">how to export eclipse RCP for multiple platforms</a>
          </li>
        
          <li>
            <a href="/2017/12/06/78728268/">Mbit/s vs MB/s vs MiB/s</a>
          </li>
        
          <li>
            <a href="/2017/12/06/78728077/">如何用命令测试Linux 硬盘的读写速度</a>
          </li>
        
          <li>
            <a href="/2017/12/06/78727935/">Linux下如何查看你的disk的信息</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">二月 2014</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">九月 2012</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">八月 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">七月 2012</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">六月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">五月 2012</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">三月 2012</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">二月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">一月 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">十二月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">十一月 2011</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">十月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">九月 2011</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">八月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">七月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">六月 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">五月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">四月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">三月 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">二月 2011</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">一月 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">十二月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">十一月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">九月 2010</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">八月 2010</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/07/">七月 2010</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06/">六月 2010</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05/">五月 2010</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">四月 2010</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">三月 2010</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/02/">二月 2010</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/12/">十二月 2009</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">十月 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/09/">九月 2009</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/06/">六月 2009</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/05/">五月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04/">四月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/03/">三月 2009</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">二月 2009</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12/">十二月 2008</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/11/">十一月 2008</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">十月 2008</a><span class="archive-list-count">20</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">

  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2008-2018 lantianjialiang  &nbsp; | &nbsp; Total <span id="busuanzi_value_site_pv"></span> views &nbsp; | &nbsp; Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
  
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<!--
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
-->
<script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>